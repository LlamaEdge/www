"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4819],{9841:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var t=s(4848),r=s(8453);const a={sidebar_position:1},l="Quick start with MCP servers",o={id:"llama-nexus/mcp/quick-start-with-mcp",title:"Quick start with MCP servers",description:"One of the key features of Llama-Nexus is its built-in MCP Client, which allows you to use Llama-Nexus for MCP-related tasks just like Claude Desktop and Cursor.",source:"@site/docs/llama-nexus/mcp/quick-start-with-mcp.md",sourceDirName:"llama-nexus/mcp",slug:"/llama-nexus/mcp/quick-start-with-mcp",permalink:"/docs/llama-nexus/mcp/quick-start-with-mcp",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/llama-nexus/mcp/quick-start-with-mcp.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Working with MCP servers",permalink:"/docs/category/working-with-mcp-servers"},next:{title:"Agentic Search",permalink:"/docs/llama-nexus/mcp/agentic-search"}},i={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Set Up Your MCP Server",id:"1-set-up-your-mcp-server",level:2},{value:"2. Set Up the Inference Server",id:"2-set-up-the-inference-server",level:2},{value:"Install llama-nexus",id:"install-llama-nexus",level:3},{value:"Configure llama-nexus",id:"configure-llama-nexus",level:3},{value:"Start llama-nexus",id:"start-llama-nexus",level:3},{value:"Register Downstream API Servers",id:"register-downstream-api-servers",level:3},{value:"3. Test the Setup",id:"3-test-the-setup",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"quick-start-with-mcp-servers",children:"Quick start with MCP servers"}),"\n",(0,t.jsx)(n.p,{children:"One of the key features of Llama-Nexus is its built-in MCP Client, which allows you to use Llama-Nexus for MCP-related tasks just like Claude Desktop and Cursor."}),"\n",(0,t.jsx)(n.p,{children:"This tutorial shows how to set up real-time weather functionality with Llama-Nexus, a Weather MCP server, and an LLM that supports tool calls. The MCP server should be running successfully before you start Llama-Nexus."}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OpenWeather API key (obtain from ",(0,t.jsx)(n.a,{href:"https://openweathermap.org",children:"openweathermap.org"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"macOS or Linux environment"}),"\n",(0,t.jsx)(n.li,{children:"Network access for remote server setup (if using remote option)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"1-set-up-your-mcp-server",children:"1. Set Up Your MCP Server"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/cardea-mcp/cardea-mcp-servers/releases/download/0.7.0/cardea-mcp-servers-unknown-linux-gnu-x86_64.tar.gz\ntar xvf cardea-mcp-servers-unknown-linux-gnu-x86_64.tar.gz\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Download for your platform: ",(0,t.jsx)(n.a,{href:"https://github.com/cardea-mcp/cardea-mcp-servers/releases/tag/0.7.0",children:"https://github.com/cardea-mcp/cardea-mcp-servers/releases/tag/0.7.0"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Set the environment variables:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"export OPENWEATHERMAP_API_KEY=YOUR_KEY\nexport RUST_LOG=debug\nexport LLAMA_LOG=debug\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run the MCP server (accessible from external connections):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./cardea-weather-mcp-server --transport stream-http --socket-addr 0.0.0.0:8002\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important"}),": Ensure port 8002 is open in your firewall/security group settings if you're running on a cloud machine."]}),"\n",(0,t.jsx)(n.h2,{id:"2-set-up-the-inference-server",children:"2. Set Up the Inference Server"}),"\n",(0,t.jsx)(n.h3,{id:"install-llama-nexus",children:"Install llama-nexus"}),"\n",(0,t.jsx)(n.p,{children:"Download and extract llama-nexus:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -LO https://github.com/LlamaEdge/llama-nexus/releases/download/0.5.0/llama-nexus-apple-darwin-aarch64.tar.gz\ntar xvf llama-nexus-apple-darwin-aarch64.tar.gz\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Download for your platform: ",(0,t.jsx)(n.a,{href:"https://github.com/LlamaEdge/llama-nexus/releases/tag/0.5.0",children:"https://github.com/LlamaEdge/llama-nexus/releases/tag/0.5.0"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configure-llama-nexus",children:"Configure llama-nexus"}),"\n",(0,t.jsxs)(n.p,{children:["Edit the ",(0,t.jsx)(n.code,{children:"config.toml"})," file to specify the gateway server port:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'[server]\nhost = "0.0.0.0" # The host to listen on\nport = 9095      # The port to listen on\n'})}),"\n",(0,t.jsx)(n.p,{children:"Configure the Weather MCP server connection:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'[[mcp.server.tool]]\nname      = "Cardea-weather"\ntransport = "stream-http"\nurl       = "http://YOUR-IP-ADDRESS:8002/mcp"\nenable    = true\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can configure multiple MCP servers in the ",(0,t.jsx)(n.code,{children:"config.toml"})," file by adding additional ",(0,t.jsx)(n.code,{children:"[[mcp.server.tool]]"})," sections."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"start-llama-nexus",children:"Start llama-nexus"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"nohup ./llama-nexus --config config.toml &\n"})}),"\n",(0,t.jsx)(n.h3,{id:"register-downstream-api-servers",children:"Register Downstream API Servers"}),"\n",(0,t.jsxs)(n.p,{children:["Register an LLM chat API server for the ",(0,t.jsx)(n.code,{children:"/chat/completions"})," endpoint:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl --location \'http://localhost:9095/admin/servers/register\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{\n    "url": "https://0xb2962131564bc854ece7b0f7c8c9a8345847abfb.gaia.domains",\n    "kind": "chat"\n}\'\n'})}),"\n",(0,t.jsx)(n.h2,{id:"3-test-the-setup",children:"3. Test the Setup"}),"\n",(0,t.jsxs)(n.p,{children:["Test the inference server by requesting the ",(0,t.jsx)(n.code,{children:"/chat/completions"})," API endpoint, which is OpenAI-compatible:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:9095/v1/chat/completions \\\n  -H \'accept: application/json\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{"messages":[{"role":"system", "content": "You are a helpful assistant. You will use the tool to solve user problems."},{"role":"user", "content": "What is the weather in Singapore?"}]}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Expected output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "chatcmpl-cf63660e-3494-472c-b4d0-6cda72e1f8e9",\n  "object": "chat.completion",\n  "created": 1751602566,\n  "model": "Qwen3-4B",\n  "choices": [\n    {\n      "index": 0,\n      "message": {\n        "content": "The current temperature in Singapore is 30.13\xb0C. Would you like to know the weather forecast for the next few days as well?",\n        "role": "assistant"\n      },\n      "finish_reason": "stop",\n      "logprobs": null\n    }\n  ],\n  "usage": {\n    "prompt_tokens": 62,\n    "completion_tokens": 32,\n    "total_tokens": 94\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(6540);const r={},a=t.createContext(r);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);